<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="/headfragment::head">
</head>
<body>
<div class="container">
    <header th:replace="headfragment::header"></header>
    <header></header>
    <main>

        <section style="width: 65%;float: left;">
            <h1>Mantenimiento de Provvedor</h1>
            <form action="/proveedor/guardarProveedor" method="post"
                  th:object="${proveedor}">


                <div class="form-group">
                    <input type="hidden" th:field="*{codProv}" class="form-control">
                    <label>Proveedor</label>
                    <input type="text" th:field="*{nomProv}" class="form-control" id="txtProveedor" placeholder="Nombre del Proveedor">
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Contacto</label>
                        <input type="text" class="form-control" th:field="*{ctcProv}"  id="txtContact" placeholder="Nombre de contacto">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Telefono</label>
                        <input type="text" class="form-control" th:field="*{tlfProv}"  id="txtTlf" placeholder="Telefono">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Email</label>
                        <input type="text" class="form-control" th:field="*{emlProv}"  id="txtEmail" placeholder="email Proveedor">
                    </div>
                </div>


                <button type="submit" class="btn btn-primary" onclick="validar()">registrar</button>
                <a href="/proveedor/lista" class="btn btn-primary">Listado</a>
                <a href="/proveedor/registrarProveedor" class="btn btn-primary">limpiar</a>

            </form>
            <br>
            <div th:class="${clasemensaje}" role="alert" th:text="${mensaje}"></div>
        </section>
    </main>


</div>
</body>
<script>
 function validar()
 {
   	var nomC = document.getElementById('txtProveedor').value;
    var ctcP = document.getElementById('txtContact').value;
    var tlfP = document.getElementById('txtTlf').value;
    var emailP = document.getElementById('txtEmail').value;

    var nomReg = /^[a-zA-Z1-9\s\ñ]{3,}$/;
    var ctcReg = /^[a-zA-Z\s\ñ]{4,}$/;
    var tlfReg = /^[9]{1}[0-9]{8}$/;
    var emailReg = /^^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$$/;



    if(nomReg.test(nomC)==false){
    	alert("Nombre de Proveedor invalido");
    	event.preventDefault();
    }else if(ctcReg.test(ctcP)==false){
    	alert("Nombre de contacto invalido");
    	event.preventDefault();
    }else if(tlfReg.test(tlfP)==false){
    	alert("Ingrese un telefono de 9 cifras")
    	event.preventDefault();
    }else if(emailReg.test(emailP)==false){
    	alert("email invalido");
    	event.preventDefault();
    }else
    	return;

 }
</script>
</body>
</html>